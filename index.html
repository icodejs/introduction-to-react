
<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">

        <title>Introduction to react</title>

        <meta name="description" content="Slides Beamly tech share tuesday May 2015">
        <meta name="author" content="Tahir J">

        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

        <link rel="stylesheet" href="css/reveal.css">
        <link rel="stylesheet" href="css/theme/moon.css" id="theme"> <!-- white -->

        <!-- Code syntax highlighting -->
        <link rel="stylesheet" href="lib/css/zenburn.css">

        <!-- Printing and PDF exports -->
        <script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
        </script>

        <!--[if lt IE 9]>
        <script src="lib/js/html5shiv.js"></script>
        <![endif]-->

        <style type="text/css">
            em {
                color: #E3CEAB;
            }
        </style>
    </head>

    <body>
        <div class="reveal">
            <!-- Any section element inside of this container is displayed as a slide -->
            <div class="slides">
                <section>
                    <h1>Introduction to React and Flux</h1>
                    <p>
                        <small>Created by <a href="http://www.icodejs.com">Tahir J</a> / <a href="http://twitter.com/1codejs">@1codejs</a></small>
                    </p>
                </section>


                <!-- What is React -->
                <section>
                    <section>
                        <h2>What is React?</h2>
                        <div class="fragment">
                            <p>It's a JavaScript Library for building User Interfaces.</p>
                            <p>Created by Facebook</p>
                        </div>

                    </section>

                    <section>
                        <ul>
                            <li>
                                It only focuses on the view layer (It's the <em>V</em> in MVC)
                            </li>
                            <li class="fragment">
                                It makes no assumptions about the rest of your front-end stack
                            </li>
                            <li class="fragment">
                                Can be plugged into an existing MVC (MV*) framework like:

                                <ul class="fragment">
                                    <li>Angular</li>
                                    <li>Ember</li>
                                    <li>Backbone</li>
                                </ul>
                            </li>
                        </ul>
                    </section>

                    <section>
                        <ul>
                            <li>

                                It comes in 3 flavours
                                <ul class="fragment">
                                    <li>React JS (Web)</li>
                                    <li>React Native (iOS)</li>
                                    <li>React Native (Android)</li>
                                </ul>
                            </li>

                        </ul>
                    </section>
                </section>

                <!-- What is MVC? -->

                <section>
                    <section>
                        <h2>But what is MVC?</h2>
                        <p class="fragment">Stands for Model, View, Controller.</p>
                        <p class="fragment">Software architectural pattern for implementing user interfaces.</p>
                    </section>

                    <section>
                        <p><strong>Model:</strong> Is where the application's data is stored. The model doesn't have knowledge about views or controllers.</p>
                    </section>

                    <section>
                        <p><strong>View:</strong> What's presented to the user, and is how a user interacts with the application.</p>
                    </section>

                    <section>
                        <p><strong>Controller:</strong> The glue between the model and view. Controllers update the view when the model changes, and update the model when the user manipulates the view.</p>
                    </section>

                    <section>
                        <p><strong>Important:</strong> MVC architectures can vary significantly from this traditional definition.</p>
                    </section>
                </section>

                <!-- What React isn’t / Misconception -->

                <section>
                    <h2>Misconceptions (What React isn't)</h2>

                    <ul>
                        <li class="fragment">Not a front-end MVC framework</li>
                        <li class="fragment">Not a straight alternative to Angular, Ember or Backbone</li>
                        <li class="fragment">Not a template library (like: Handlebars, Mustache, Hogan)</li>
                    </ul>
                </section>

                <!-- Flux -->

                <section>
                    <section>
                        <h2>How should I structure a React app?</h2>
                        <h3 class="fragment">Flux (By Facebook)</h3>

                        <p class="fragment">An application architecture based on unidirectional data flow.</p>
                        <p class="fragment">It's more of a pattern than a formal framework.</p>
                    </section>

                    <section>
                        <h2>Data flow (React/Flux Application)</h2>
                        <img src="img/flux.png" />
                    </section>

                    <section>
                        <h2>Actions (Not DOM events)</h2>
                        <ul>
                            <li class="fragment">Think of Actions as Newspapers, reporting on something that happened in the world</li>
                            <!-- <li class="fragment">Not elaborate setters</li> -->
                            <li class="fragment">Represent mutations in you application state</li>
                            <li class="fragment">Action examples:

                            <ul>
                                <li class="fragment">A tweet is retweeted</li>
                                <li class="fragment">A user is followed in Beamly</li>
                                <li class="fragment">A comment posted</li>
                                <li class="fragment">An article is liked</li>
                            </ul>

                            </li>
                        </ul>
                    </section>
                    <section>
                        <h2>Dispatcher</h2>
                        <ul>
                            <li class="fragment">Used to broadcast payloads to registered callbacks (Stores)</li>
                            <li class="fragment">A singleton, and operates as the central hub for data flow</li>
                            <li class="fragment">Similar to pub-sub systems</li>
                            <li class="fragment">Uses Node's Event Emitter</li>
                            <li class="fragment">It's essentially a registry of callbacks</li>
                            <li class="fragment">When new data is received, it uses these callbacks to propagate that data to all of the Stores</li>
                        </ul>
                    </section>

                    <section>
                        <h2>Stores (Model like... but not)</h2>
                        <ul>
                            <li class="fragment">Contains your application state</li>
                            <li class="fragment">The single source of truth</li>
                            <li class="fragment">Each Store registers a callback with the Dispatcher</li>
                            <li class="fragment">Read-only</li>
                            <li class="fragment">Updated as a result of Actions</li>
                            <li class="fragment">Self contained universe</li>
                            <!-- <li class="fragment">Stores instead of models</li> -->
                            <li class="fragment">Emits an event when internal state changes...</li>
                        </ul>
                    </section>

                    <section>
                        <h2>Views (React)</h2>
                        <ul>
                            <li class="fragment">
                                <span>Types:</span>
                                <span class="fragment">Controller views,</span>
                                <span class="fragment">Parent views,</span>
                                <span class="fragment">Child views</span>
                            </li>
                            <li class="fragment">Controller views listen and react to Store events</li>
                            <li class="fragment">They can optionally update their state, <span class="fragment">re-render themselves</span> <span class="fragment">and their children</span></li>
                            <li class="fragment">Also, they can respond to user interaction, and fire Actions that will eventually mutate Stores...</li>
                        </ul>
                    </section>
                </section>

                <!-- Virtual DOM (HOW AND WHY) -->

                <section>
                    <h2>Virtual DOM (HOW AND WHY)</h2>
                    <p class="fragment">An in-memory representation of the real DOM, that allows you to keep expensive writes to the DOM, to a minimum.</p>
                    <ul>
                        <li class="fragment">Incredibly fast</li>
                        <li class="fragment">Re-rendering is very cheap</li>
                        <li class="fragment">DOM manipulations are batched</li>
                        <li class="fragment">Updates to the real DOM are localised only to the parts that changed</li>
                        <li class="fragment">Events are normalised across browsers</li>
                        <li class="fragment">Events are automatically delegated for you...</li>
                    </ul>
                </section>

                <!-- JSX (Inline HTML - PASS ME THE SICK BUCKET!) -->

                <section>
                    <section>
                        <h2>JSX</h2>
                        <h3>JavaScript XML syntax</h3>

                        <p class="fragment">React components contain the mark-up (JSX/HTML) necessary for rendering themselves.</p>

                        <ul>
                            <li class="fragment">Components can be written in pure JavaScript or what React calls JSX</li>
                            <li class="fragment">Allows you to write a HTML 'like' syntax inside your JS files, <span class="fragment">which is compiled down to regular JavaScript</span></li>
                        </ul>
                    </section>

                    <section>
                        <p>We've all been conditioned to separate our functionality from our views, <span class="fragment">but if you think about it, they are actually intrinsically linked.</span></p>
                        <p class="fragment">Markup, and the code that generates it, are intimately connected.</p>
                        <p class="fragment">Display logic is often very complex, and using a templating language to express it, can become cumbersome as the application grows...</p>
                    </section>
                </section>

                <!-- Components -->

                <section>
                    <h2>React Components</h2>
                    <p class="fragment">A reusable UI element with a well defined interface.</p>
                    <p class="fragment">
                        Possible examples:
                        <span class="fragment">Like buttons,</span>
                        <span class="fragment">Navigation bar,</span>
                        <span class="fragment">Beamly user feed,</span>
                        <span class="fragment">Feed item,</span>
                        <span class="fragment">Tweet,</span>
                        <span class="fragment">Drop-down menu,</span>
                        <span class="fragment">Image upload,</span>
                        <span class="fragment">Beamly search,</span>
                        <span class="fragment">Auto suggest input,</span>
                        <span class="fragment">Carrrrrrrousel.</span>
                    </p>

                    <ul>
                        <li class="fragment">Encourages reuse and abstraction</li>
                        <li class="fragment">Similar to jQuery plugins...</li>
                        <li class="fragment">Can be as simple as plain HTML</li>
                        <li class="fragment">Or as complex as HTML, CSS, JS</li>
                        <li class="fragment">Can contain child components</li>
                        <li class="fragment">E.g. React Bootstrap...</li>
                    </ul>
                </section>

                <!-- How do I traverse the DOM (JQUERY.. NO!) -->

                <section>
                    <section>
                        <h2>How can I traverse the DOM / Virtual DOM</h2>

                        <blockquote class="fragment">"React encourages the creation of small self-contained components. If you're attempting to traverse the DOM, outside of your component, you're probably doing something wrong!"</blockquote>
                    </section>

                    <section>
                        <h3>Using React</h3>
                        <ul>
                            <li>
                                You can access HTML elements, within a component using ref attributes:
                                <pre><code data-trim contenteditable>
 &lt;input type="text" ref="myTextInput" &#47;&gt;
                                </code></pre>
                            </li>

                            <li class="fragment">
                                Use <code><em>this.refs</em></code> property to obtain references to things, similar to jQuery's <code><em>$(el).find();</em></code> :
                                <pre><code data-trim contenteditable>
var myTextInput = this.refs.myTextInput;
                                </code></pre>
                            </li>

                            <li class="fragment">
                                Actual DOM nodes are accessed using the React <code><em>findDOMNode</em> </code>method:
                                <pre><code data-trim contenteditable>
var domNode = React.findDOMNode(myTextInput);
                                </code></pre>
                            </li>
                        </ul>
                    </section>

                    <section>
                        <h3>Using jQuery</h3>
                        <p>Once a component has been loaded into the DOM, it's possible to use jQuery if necessary:</p>


                        <pre class="fragment"><code data-trim contenteditable>
componentDidMount() {
    var $ = require('jquery');
    var myTextInput = this.refs.myTextInput;
    var domNode = React.findDOMNode(myTextInput);
    var $input = $(domNode);

    $input.animate({
        opacity: 0.25,
        left: '+=50'
    }, 5000, function () {
        $(this).hide();
    });
}
                        </code></pre>
                    </section>

                    <section>
                        <p>Or... use the component as the starting point via <code><em>this</em></code>:</p>

                        <pre class="fragment"><code data-trim contenteditable>
componentDidMount() {
    var $ = require('jquery');
    var reactComponentNode = React.findDOMNode(this); // <--
    var $component = $(reactComponentNode);

    var $body = $component.closest('body'); // DON'T DO THIS!
    $body.css({ backgroundColor: '#000' });

    var $input = $component.find('input[ref="myTextInput"]');
    $input.fadeOut(2000);
}
                        </code></pre>
                    </section>
                </section>

                <!-- Browser compatibility -->

                <section>
                    <h2>Browser compatibility</h2>
                    <ul>
                        <li class="fragment">IE8 +</li>
                        <li class="fragment">React is pretty good at abstracting browser differences...</li>
                        <li class="fragment">Older browsers may need polyfils</li>
                    </ul>
                </section>

                <!-- Server side rendering (Isomorphic JavaScript) -->

                <section>
                    <section>
                        <h2>Isomorphic JavaScript</h2>
                        <h3>(Server side rendering)</h3>

                        <ul>
                            <li class="fragment">CommonJS on both client and server</li>
                            <li class="fragment">Node (Fat server / Fat client)</li>
                            <li class="fragment">More shared code (Increases code reuse)</li>
                            <li class="fragment">Browserify (compile JSX, ES6 to ES5, create bundle.js)</li>
                            <li class="fragment">Easily achievable using Node express</li>
                            <li class="fragment">Server-side solutions available in backend languages like Ruby Rails, Scala, Java, PHP</li>
                        </ul>
                    </section>
                    <section>
                        <h3>Contrived example</h3>
                        <pre class="fragment"><code data-trim contenteditable>
// app.js
var React = require('react');
var SomeConponent = require('./someConponent');

var ReactApp = React.createClass({
    render() {
        return (&lt;SomeConponent &#47;&gt;);
    }
});

module.exports = ReactApp;
                        </code></pre>

                        <pre class="fragment"><code data-trim contenteditable>
// server.js
var React = require('react');
var express = require('express');
var appComponent = require('../public/js/components/app');
var ReactApp = React.createFactory(appComponent);
var app = express();

app.get('/some-conponent/:id', function(req, res) {
    var html = React.renderToString(
        ReactApp()
    );
    res.end(html);
});
                        </code></pre>
                    </section>

                </section>

                <!-- Who uses it? (May 2015) -->

                <section>
                    <h2>Who uses it? (May 2015)</h2>
                    <p class="fragment">Facebook states 130+ companies / apps</p>

                    <p class="fragment">
                        Instagram,
                        Atlassian,
                        BBC,
                        Codecademy,
                        Dropbox,
                        Flipboard,
                        Imgur,
                        Khan Academy ,
                        Netflix,
                        Reddit,
                        The New York Times,
                        Uber,
                        WhatsApp,
                        Wired,
                        Yahoo,
                        Zendesk,
                        Atom Editor,
                        Brackets Editor
                    </p>
                </section>

                <!-- How and where is it being used in Beamly -->

                <section>
                    <h2>How and where is it being used @ Beamly</h2>
                    <ul>
                        <li class="fragment">Beamly Booster</li>
                        <li class="fragment"><i>who else?</i></li>
                    </ul>
                </section>

                <!-- Is it just a new bandwagon to jump on -->

                <section>
                    <h2>Is React just a new bandwagon to jump on?</h2>
                    <h3 class="fragment">Maybe!</h3>
                    <p class="fragment">But Facebook use it, so you know it can scale</p>
                    <p class="fragment">Try it for size with a Todo MVC app</p>
                    <p class="fragment">Time will tell...</p>
                </section>

                <!-- Advantages over competition -->

                <section>
                    <section>
                        <h2>Final words</h2>
                        <ul>
                            <li class="fragment">React is very simple (V in MVC)</li>
                            <li class="fragment">Encourages an alternative way of thinking, <span class="fragment">even if it feels dirty at first</span></li>
                            <li class="fragment">Isomorphic JavaScript</li>
                            <li class="fragment">Encourages ES6 (Reactify, Browserify, Babel)</li>
                            <li class="fragment">Combine with Flux for unidirectional data flow</li>
                            <li class="fragment">For developers with opinions (Models, Controllers Routing etc.)</li>
                        </ul>
                    </section>

                    <section>
                        <p>As experienced software engineers at Beamly, <span class="fragment">we don’t want to be tied down by a framework,</span> <span class="fragment">we want to be empowered to make our own decisions</span> <span class="fragment">about the components we use to build our applications.</span></p>
                    </section>
                </section>

                <section>
                    <h1>QUESTIONS?</h1>
                </section>

                <section>
                    <h1>Thanks!</h1>
                    <p><a href="http://www.icodejs.com">Tahir J</a></p>
                    <p><img src="img/profile-pic.jpg" height="200" /></p>
                    <p><a href="http://twitter.com/1codejs">@1codejs</a></p>
                </section>
            </div>
        </div> <!-- end reveal main container -->

        <script src="lib/js/head.min.js"></script>
        <script src="js/reveal.js"></script>
        <script>
            Reveal.initialize({
                controls: true,
                progress: true,
                history: true,
                center: true,

                transition: 'slide', // none/fade/slide/convex/concave/zoom

                // Optional reveal.js plugins
                dependencies: [
                    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'plugin/zoom-js/zoom.js', async: true },
                    { src: 'plugin/notes/notes.js', async: true }
                ]
            });

        </script>

        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
          ga('create', 'UA-62919158-1', 'auto');
          ga('send', 'pageview');
        </script>
    </body>
</html>
